Simple BBS
==========

## TODO
- フロントエンド
    - [DONE]reboot.css
    - [DONE]scssファイルの変換 - 開発環境ではDockerコンテナを起動して監視
    - テンプレート
- バックエンド
    - 基本
        - [DONE]構造体の定義
        - [DONE]Dieselを用いてスレッド、コメントをCRU(D)できるようにする
            - [DONE]新規スレッドを作成する
            - [DONE]コメントを投稿する
            - [DONE]スレッド一覧を取得する
            - [DONE]コメント一覧を取得する
        - トランザクション制御
    - DB
        - [DONE]データベースの作成
        - [DONE]テーブルの作成
        - [DONE]schema.rsの生成 by Diesel
        - [DONE]テストデータの登録
        - initdb-scripts, Rocket.tomlで開発環境用のユーザとパスワードをベタ書きしてるのでなんとかする
    - Webアプリ
        - [DONE]URLおよびそれに対応する機能の定義
        - スレッド一覧表示
            - [DONE]スレッドの一覧を取得して表示する
            - [DONE]「スレッドタイトル検索」フォームからキーワードを入力して検索ボタンを押すと、タイトルにキーワードを含むスレッドのみを表示する
            - [DONE]スレッド一覧画面下部のページネーションからページ番号を押下すると、該当のページを表示する
            - ページ数は1以上100以下の整数でなければならない。
              URLを直接入力して範囲外のページ数が指定された場合、404ページに遷移する
            - [DONE]1ページの最大表示スレッド数は20件とし、1ページ目には1〜20件目、2ページ目には21〜40件目、...と表示する
            - [DONE]スレッドの表示順は、最新コメント投稿日の降順とする
            - [DONE]スレッド表示欄の各行は対応するスレッド内容ページへのリンクとする
            - [DONE]ページネーションには現在のページ数±2ページおよび1ページ目と最終ページへのリンクを表示する
            - [DONE]LIKE句の特殊文字%_をエスケープする
            - 検索ワードに該当するスレッドが存在しない場合は専用のメッセージを表示する。
            - 「新しいスレッドをつくる」フォームで新規スレッドを作成する（「新規スレッド作成」で説明）
        - スレッド内容(コメント一覧)表示
        - 新規スレッド作成
        - コメント投稿
        - Handlebarsテンプレートファイルの作成
            - [DONE]事前につくったモックアップをテンプレートに変える
            - 重複部分を共通化する
        - 入力のバリデーション
            - ページ数上限値超過 -> トップページへリダイレクト
            - 存在しないスレッドへの遷移 (not found)
        - エラーページへの遷移
        - ログの出力
            - リクエスト、レスポンス
            - 発行したSQL（diesel::debug_query）
    - [DONE]テストデータの投入（5ch.netから取得）
        - [DONE]URLからスレッド一覧の取得
        - [DONE]スレッド内容を解析しレス一覧を取得
        - [DONE]サンプルデータを拝借してデータベースに投入する

## ISSUE
- RocketはRedirectするときはroute関数の戻り値にRedirect型を指定する。通常のroute関数だけど、特定の条件下でリダイレクトさせたい場合はどうすればいいんだろう？
    → 自分でResponderを実装すればできそう

## 概要
Simple BBSはただの掲示板アプリです。以下のことができます。
- 新しいスレッドをつくる
- スレッド一覧を見る
- スレッドにレスを投稿する
- スレッドに投稿されたレス一覧を見る

## 使用技術
- フロントエンド
    - HTML
    - SCSS
    - JavaScript
    - reboot.css
- バックエンド
    - Docker/WebAppサーバとDBサーバをコンテナとして起動
    - Rust/サーバサイドのメイン言語
    - Rocket/Webアプリケーションフレームワーク
    - Diesel/ORマッパー兼DBマイグレーションツール
    - handlebars-rust/テンプレートエンジンHandlebarsのRust実装
    - PostgreSQL/データベースサーバ
- ビルド
    - npm
        - Bootstrap
        - sass
    - cargo/Rustビルド
    - Dockerfile/ビルド済みのWebアプリケーションイメージ作成
